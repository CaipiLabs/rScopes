/*!
 * MIT License
 * 
 * Copyright (c) 2018 Wise Wild Web
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
module.exports=function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=15)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("is")},function(e,t){e.exports=require("rescope")},function(e,t){e.exports=require("@babel/runtime/helpers/extends")},function(e,t){e.exports=require("@babel/runtime/helpers/getPrototypeOf")},function(e,t){e.exports=require("@babel/runtime/helpers/classCallCheck")},function(e,t){e.exports=require("@babel/runtime/helpers/createClass")},function(e,t){e.exports=require("@babel/runtime/helpers/possibleConstructorReturn")},function(e,t){e.exports=require("@babel/runtime/helpers/inherits")},function(e,t){e.exports=require("@babel/runtime/helpers/defineProperty")},function(e,t){e.exports=require("@babel/runtime/helpers/get")},function(e,t){e.exports=require("rescope-spells")},function(e,t,o){"use strict";o.d(t,"a",function(){return A}),o.d(t,"d",function(){return A}),o.d(t,"g",function(){return A}),o.d(t,"f",function(){return G}),o.d(t,"e",function(){return M}),o.d(t,"b",function(){return H}),o.d(t,"c",function(){return z});var r=o(9),n=o.n(r),s=o(14),i=o.n(s),p=o(10),c=o.n(p),a=o(3),u=o.n(a),f=o(5),l=o.n(f),h=o(6),d=o.n(h),m=o(7),y=o.n(m),$=o(4),v=o.n($),b=o(8),g=o.n(b),S=o(13),O=o.n(S),P=o(1),w=o.n(P),C=o(0),j=o.n(C),x=o(2);function _(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function k(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?_(o,!0).forEach(function(t){n()(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):_(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var E={}.constructor,R=Object(C.createContext)(x.Store.staticScope),U=R.Provider,N=R.Consumer,T={toProps:String.fromCharCode(9889),fromProps:"",rs:String.fromCharCode(55357,56599)};function D(e,t,o){return w.a.string(t)&&(t=t.split(".")),t.length?e[t[0]]&&D(e[t[0]],t.slice(1)):e}function W(e){var t=e.split(":");return t[0]=t[0].split("."),t[1]=t[1]&&t[1].split("."),{pathFrom:t[0],pathTo:t[1]||[t[0][t[0].length-1]]}}function q(e){return e.prototype instanceof j.a.Component||e===j.a.Component||e.$$typeof}function M(){for(var e,t,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];var s=(!r[0]||q(r[0]))&&r.shift(),i=(!r[0]||x.Scope.isScope(r[0])||w.a.fn(r[0]))&&r.shift(),p=(!r[0]||w.a.array(r[0])||r[0]instanceof E)&&r.shift();if(!p)for(p=[];w.a.string(r[0]);)p.push(r.shift());if(!s)return function(e){return M(e,i,p)};var c=s.displayName||s.name,a=G((t=e=function(e){function t(){return l()(this,t),y()(this,v()(t).apply(this,arguments))}return g()(t,e),d()(t,[{key:"render",value:function(){return j.a.createElement(s,u()({},this.props,this.state,{ref:this.props.forwardedRef,$dispatch:this.$dispatch,$actions:this.$actions,$scope:this.$scope,$stores:this.$stores}))}}]),t}(j.a.Component),e._originComponent=s._originComponent||s,e.displayName=T.toProps+c,t),w.a.fn(i)&&i,p),f=j.a.forwardRef(function(e,t){return j.a.createElement(a,u()({},e,{forwardedRef:t}))});return f.displayName=T.toProps+c,f._originComponent=s,f=(i||!s._originComponent)&&A(!w.a.fn(i)&&i)(f)||f}function G(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var r=(!t[0]||q(t[0]))&&t.shift(),n=(!t[0]||x.Scope.isScope(t[0])||w.a.fn(t[0]))&&t.shift(),s=w.a.array(t[0])&&t.shift(),p=!s&&(!t[0]||t[0]instanceof E)&&t.shift(),a={};if(!s)for(s=[];w.a.string(t[0]);)s.push(t.shift());if(!r)return function(e){return G(e,n,s,p)};var u=r.displayName||r.name;s=[].concat(O()(r.use||[]),O()(s||[])),p&&x.Scope.stateMapToRefList(p,a,s);var f=function(e){function t(e,o,r){var p;return l()(this,t),(p=y()(this,v()(t).call(this,e,o,r)))._scopeWillUpdate=function(e){p.scopeWillUpdate&&p.scopeWillUpdate(e,p.$stores),p.applyScopeUpdate&&(e=p.applyScopeUpdate(e,p.$stores)),p.setState(e)},w.a.fn(n)?p.$scope=n(i()(p),p.props,{rescope:e.$scope}):p.$scope=e.$scope,p.$scope&&p.$scope.dead&&(console.error("ReScoping using dead scope !"),p.$scope=null),p.$stores=p.$scope&&p.$scope.stores,p.$actions=p.$scope&&p.$scope.actions,p.$scope&&s.length?p.state=k({},p.state,{},a,{},p.$scope.map(i()(p),s,!1)):p.$scope||console.warn("No Scope found in ".concat(u)),p}return g()(t,e),d()(t,[{key:"componentDidMount",value:function(){s.length&&this.$scope&&this.$scope.bind(this._scopeWillUpdate,s,!1),c()(v()(t.prototype),"componentDidMount",this)&&c()(v()(t.prototype),"componentDidMount",this).call(this)}},{key:"componentDidUpdate",value:function(e){var t=e.$scope;t!==this.$scope&&(w.a.fn(n)&&(t=n(this,this.props,{rescope:t})),s.length&&this.$scope.unBind(this._scopeWillUpdate,s),this.$scope=t,this.$scope&&this.$scope.dead?(console.error("ReScoping using dead scope"),this.$actions=this.$stores=this.$scope=null):(this.$actions=this.$scope.actions,this.$stores=this.$scope.stores,s.length&&t.bind(this._scopeWillUpdate,s)))}},{key:"componentWillUnmount",value:function(){c()(v()(t.prototype),"componentWillUnmount",this)&&c()(v()(t.prototype),"componentWillUnmount",this).call(this),this.$scope&&!this.$scope.dead&&s.length&&this.$scope.unBind(this._scopeWillUpdate,s)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var o=e.$scope;return o&&s.length?o.map(this,s,!1):null}}]),t}(r);return f._originComponent=r._originComponent||r,f.defaultProps=k({},r.defaultProps||{}),f.displayName=u,(n||!r._originComponent)&&A(!w.a.fn(n)&&n)(f)||f}function A(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var r=(!t[0]||q(t[0]))&&t.shift(),n=(!t[0]||x.Scope.isScope(t[0])||w.a.fn(t[0]))&&t.shift(),s=(!t[0]||t[0]instanceof E&&!x.Scope.isScope(t[0]))&&t.shift(),i=(!t[0]||t[0]instanceof E)&&t.shift()||{};if(!r)return function(e){return A(e,n,s,i)};var p=r.displayName||r.name,c=function(e){function t(){return l()(this,t),y()(this,v()(t).apply(this,arguments))}return g()(t,e),d()(t,[{key:"componentWillUnmount",value:function(){this.$scope&&this.$scope.dispose("hoc")}},{key:"render",value:function(){var e=this,t=n||this.props.$scope;return t?(this.$scope&&t===this.$scope.parent||(this.$scope&&this.$scope.dispose("hoc"),this.$scope=t,this.$scope&&this.$scope.retain("hoc")),j.a.createElement(U,{value:this.$scope},j.a.createElement(r,u()({},this.props,{ref:this.props.forwardedRef,$actions:this.$scope.actions,$scope:this.$scope,$stores:this.$scope.stores})))):j.a.createElement(N,null,function(t){return!(t=t||x.Store.staticScope)||e.$scope&&t===e.$scope.parent||(e.$scope&&e.$scope.dispose("hoc"),t=new x.Scope(s||{},k({autoDestroy:"inherit",key:p,parent:t},i)),e.$scope=t,e.$scope&&e.$scope.retain("hoc")),j.a.createElement(U,{value:e.$scope},j.a.createElement(r,u()({},e.props,{ref:e.props.forwardedRef,$actions:e.$scope.actions,$scope:e.$scope,$stores:e.$scope.stores})))})}}]),t}(j.a.Component);c._originComponent=r._originComponent||r,c.displayName=T.rs+p;var a=j.a.forwardRef(function(e,t){return j.a.createElement(c,u()({},e,{forwardedRef:t}))});return a.displayName=T.rs+p,a._originComponent=r,a}function H(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var r=(!t[0]||q(t[0]))&&t.shift(),n=(!t[0]||w.a.array(t[0]))&&t.shift()||[];if(!n.length)for(n=[];w.a.string(t[0]);)n.push(t.shift());var s=(!t[0]||x.Scope.isScope(t[0]))&&t.shift(),i=(!t[0]||t[0]instanceof E)&&t.shift()||{};if(!r)return function(e){return H(e,n,s,i)};var p=r.displayName||r.name,c=n.map(W),a=function(e){function t(){return l()(this,t),y()(this,v()(t).apply(this,arguments))}return g()(t,e),d()(t,[{key:"componentWillMount",value:function(){this.componentWillUpdate(this.props)}},{key:"componentWillUpdate",value:function(e){c.forEach(function(t){D(e,t.pathFrom)!==D(e.$scope.state,t.pathTo)&&(e.$scope.state[t.pathTo[0]]=function e(t,o,r,n){return w.a.string(o)&&(o=o.split(".")),o.length?1==o.length?(t[o[0]]=n?[].concat(O()(t[o[0]]||[]),[r]):r,t):e(t[o[0]]=t[o[0]]||{},o.slice(1),r,n)&&t||t:r}({},t.pathTo.slice(1),D(e,t.pathFrom)))})}},{key:"shouldComponentUpdate",value:function(e,t,o){return r=e,n=this.props,!!Object.keys(r).find(function(e){return r[e]!==n[e]});var r,n}},{key:"render",value:function(){return j.a.createElement(r,u()({},this.props,{ref:this.props.forwardedRef}))}}]),t}(j.a.Component);a._originComponent=r._originComponent||r,a.defaultProps=k({},r.defaultProps||{}),a.displayName=T.fromProps+p;var f=j.a.forwardRef(function(e,t){return j.a.createElement(a,u()({},e,{forwardedRef:t}))});return f.displayName=T.fromProps+p,f._originComponent=r,f=(s||!r._originComponent)&&A(!w.a.fn(s)&&s)(f)||f}function z(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];var r=(!t[0]||q(t[0]))&&t.shift(),s=(!t[0]||x.Store.isStore(t[0]))&&t.shift()||x.Store,i=(!t[0]||w.a.string(t[0]))&&t.shift()||s.displayName||"props",p=(!t[0]||t[0]instanceof E)&&t.shift()||{},c=(!t[0]||x.Scope.isScope(t[0]))&&t.shift();if(!r)return function(e){return z(e,s,i,p,c)};var a=r.displayName||r.name,f=function(e){function t(){return l()(this,t),y()(this,v()(t).apply(this,arguments))}return g()(t,e),d()(t,[{key:"componentWillUnmount",value:function(){this.$scope&&this.$scope.dispose("hoc")}},{key:"render",value:function(){var e=this;return j.a.createElement(N,null,function(t){return!(t=c||e.props.$scope||t||x.Store.staticScope)||e.$scope&&t===e.$scope.parent||(e.$scope&&e.$scope.dispose("hoc"),t=new x.Scope(n()({},i,s),k({autoDestroy:"inherit",key:a,parent:t},p)),e.$scope=t,e.$scope&&e.$scope.retain("hoc")),j.a.createElement(U,{value:e.$scope},j.a.createElement(r,u()({},e.props,{ref:e.props.forwardedRef,$dispatch:e.$scope.dispatch,$actions:e.$scope.actions,$scope:e.$scope,$stores:e.$scope.stores})))})}}]),t}(j.a.Component);f._originComponent=r._originComponent||r,f.displayName=T.fromProps+a;var h=j.a.forwardRef(function(e,t){return j.a.createElement(f,u()({},e,{forwardedRef:t}))});return h.displayName=T.fromProps+a,h._originComponent=r,h=(c||!r._originComponent)&&A(!w.a.fn(c)&&c)(h)||h}A.withScope=A,A.scopeToState=G,A.scopeToProps=M,A.propsToScope=H,A.propsToStore=z,function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var o=void 0!==t?t:exports;if(o)if("function"!=typeof o){for(var r in o)if(Object.prototype.hasOwnProperty.call(o,r)){var n=void 0;try{n=o[r]}catch(e){continue}e.register(n,r,"G:\\n8tz\\libs\\rScopes\\react-scopes\\src\\ReactHocs.js")}}else e.register(o,"module.exports","G:\\n8tz\\libs\\rScopes\\react-scopes\\src\\ReactHocs.js")}}()},function(e,t){e.exports=require("@babel/runtime/helpers/toConsumableArray")},function(e,t){e.exports=require("@babel/runtime/helpers/assertThisInitialized")},function(e,t,o){e.exports=o(16)},function(e,t,o){"use strict";o.r(t);var r=o(9),n=o.n(r),s=o(2),i=o.n(s);for(var p in s)"default"!==p&&function(e){o.d(t,e,function(){return s[e]})}(p);var c=o(11),a=o.n(c);for(var p in c)"default"!==p&&function(e){o.d(t,e,function(){return c[e]})}(p);var u=o(12);function f(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}o.d(t,"reScope",function(){return u.d}),o.d(t,"withScope",function(){return u.g}),o.d(t,"scopeToState",function(){return u.f}),o.d(t,"scopeToProps",function(){return u.e}),o.d(t,"propsToScope",function(){return u.b}),o.d(t,"propsToStore",function(){return u.c});var l=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?f(o,!0).forEach(function(t){n()(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):f(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}({},u.a,{},i.a,{},a.a);t.default=l,function(){var e="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0;if(e){var o=void 0!==t?t:exports;if(o)if("function"!=typeof o){for(var r in o)if(Object.prototype.hasOwnProperty.call(o,r)){var n=void 0;try{n=o[r]}catch(e){continue}e.register(n,r,"G:\\n8tz\\libs\\rScopes\\react-scopes\\src\\index.js")}}else e.register(o,"module.exports","G:\\n8tz\\libs\\rScopes\\react-scopes\\src\\index.js")}}()}]);
//# sourceMappingURL=react-scopes.js.map